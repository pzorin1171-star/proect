<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –†–æ–±–æ—Ç–∞</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="game-container" class="medieval-border">
        <canvas id="game-canvas"></canvas>
        
        <!-- –≠–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ —Ä–µ–∂–∏–º–∞ -->
        <div id="mode-selection" class="screen">
            <h1>ü§ñ –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –†–æ–±–æ—Ç–∞</h1>
            <p class="parchment">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º –¥–ª—è –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã</p>
            
            <div class="menu-buttons">
                <button class="button" id="teacher-mode-btn">üë®‚Äçüè´ –†–µ–∂–∏–º —É—á–∏—Ç–µ–ª—è</button>
                <button class="button" id="student-mode-btn">üë®‚Äçüéì –†–µ–∂–∏–º —É—á–µ–Ω–∏–∫–∞</button>
            </div>
        </div>
        
        <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —É—á–∏—Ç–µ–ª—è -->
        <div id="teacher-menu" class="screen hidden">
            <h1>üë®‚Äçüè´ –†–µ–∂–∏–º —É—á–∏—Ç–µ–ª—è</h1>
            <p class="parchment">–°–æ–∑–¥–∞–≤–∞–π—Ç–µ —É—Ä–æ–≤–Ω–∏, —É—Ä–æ–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–π—Ç–µ –æ–±—É—á–µ–Ω–∏–µ</p>
            
            <div class="menu-buttons">
                <button class="button" id="teacher-levels-btn">üìö –£—Ä–æ–≤–Ω–∏</button>
                <button class="button" id="teacher-lessons-btn">üìñ –£—Ä–æ–∫–∏</button>
                <button class="button" id="workshop-btn">üîß –ú–∞—Å—Ç–µ—Ä—Å–∫–∞—è</button>
                <button class="button" id="shop-btn">üõí –ú–∞–≥–∞–∑–∏–Ω –æ—Ü–µ–Ω–æ–∫</button>
                <button class="button" id="teacher-tutorial-btn">üìñ –ü–æ—Å–æ–±–∏–µ</button>
                <button class="button" id="back-to-mode-btn">üîÑ –°–º–µ–Ω–∏—Ç—å —Ä–µ–∂–∏–º</button>
            </div>
        </div>
        
        <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —É—á–µ–Ω–∏–∫–∞ -->
        <div id="student-menu" class="screen hidden">
            <h1>üë®‚Äçüéì –†–µ–∂–∏–º —É—á–µ–Ω–∏–∫–∞</h1>
            <p class="parchment">–ò–∑—É—á–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ –∑–∞–¥–∞–Ω–∏—è</p>
            
            <div class="menu-buttons">
                <button class="button" id="student-levels-btn">üìö –£—Ä–æ–≤–Ω–∏</button>
                <button class="button" id="join-lesson-btn">üîó –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ —É—Ä–æ–∫—É</button>
                <button class="button" id="student-tutorial-btn">üìñ –ü–æ—Å–æ–±–∏–µ</button>
                <button class="button" id="back-to-mode-btn-student">üîÑ –°–º–µ–Ω–∏—Ç—å —Ä–µ–∂–∏–º</button>
            </div>
        </div>
        
        <!-- –≠–∫—Ä–∞–Ω –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —É—Ä–æ–∫—É -->
        <div id="join-lesson-screen" class="screen hidden">
            <h2>üîó –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ —É—Ä–æ–∫—É</h2>
            <p class="parchment">–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ —É—Ä–æ–∫–∞ –æ—Ç –≤–∞—à–µ–≥–æ —É—á–∏—Ç–µ–ª—è</p>
            
            <div class="join-lesson-container">
                <div class="input-group">
                    <label for="lesson-code">–ö–æ–¥ —É—Ä–æ–∫–∞:</label>
                    <input type="text" id="lesson-code" placeholder="–í–≤–µ–¥–∏—Ç–µ 6-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥" maxlength="6">
                </div>
                <button class="button" id="connect-lesson-btn">–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è</button>
                <button class="button" id="join-lesson-back-btn">‚Üê –ù–∞–∑–∞–¥</button>
            </div>
            
            <div class="active-lessons">
                <h3>–ê–∫—Ç–∏–≤–Ω—ã–µ —É—Ä–æ–∫–∏</h3>
                <div id="active-lessons-list" class="lessons-list">
                    <!-- –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö —É—Ä–æ–∫–æ–≤ –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
                </div>
            </div>
        </div>
        
        <!-- –û—Å—Ç–∞–ª—å–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã (—É—Ä–æ–≤–Ω–∏, —É—Ä–æ–∫–∏, –º–∞—Å—Ç–µ—Ä—Å–∫–∞—è, –º–∞–≥–∞–∑–∏–Ω –∏ —Ç.–¥.) -->
        <!-- –û–Ω–∏ –æ—Å—Ç–∞—é—Ç—Å—è —Ç–∞–∫–∏–º–∏ –∂–µ, –Ω–æ –±—É–¥—É—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∂–∏–º–∞ -->
        
        <div id="levels-screen" class="screen hidden">
            <h2>üìö –£—Ä–æ–≤–Ω–∏</h2>
            <p class="parchment">–í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–æ–±–æ—Ç–∞</p>
            
            <button class="button" id="levels-back-btn">‚Üê –ù–∞–∑–∞–¥</button>
            
            <div class="card-grid" id="levels-container">
            </div>
        </div>
        
        <div id="lessons-screen" class="screen hidden">
            <h2>üìñ –£—Ä–æ–∫–∏</h2>
            <p class="parchment">–í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–∫ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è</p>
            
            <button class="button" id="lessons-back-btn">‚Üê –ù–∞–∑–∞–¥</button>
            
            <div class="card-grid" id="lessons-container">
            </div>
        </div>
        
        <div id="workshop-screen" class="screen hidden">
            <h2>üîß –ú–∞—Å—Ç–µ—Ä—Å–∫–∞—è</h2>
            <p class="parchment">–°–æ–∑–¥–∞–≤–∞–π—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –∏ —É—Ä–æ–∫–∏</p>
            
            <button class="button" id="workshop-back-btn">‚Üê –ù–∞–∑–∞–¥</button>
            
            <div class="workshop-tabs">
                <button class="button tab-button active" data-tab="level-editor">–†–µ–¥–∞–∫—Ç–æ—Ä —É—Ä–æ–≤–Ω–µ–π</button>
                <button class="button tab-button" data-tab="lesson-editor">–†–µ–¥–∞–∫—Ç–æ—Ä —É—Ä–æ–∫–æ–≤</button>
                <button class="button tab-button" data-tab="my-levels">–ú–æ–∏ —É—Ä–æ–≤–Ω–∏</button>
                <button class="button tab-button" data-tab="my-lessons">–ú–æ–∏ —É—Ä–æ–∫–∏</button>
            </div>
            
            <div id="level-editor" class="tab-content active">
                <div class="editor-container">
                    <div class="editor-tools">
                        <h3>–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</h3>
                        <div class="tool-buttons">
                            <button class="button tool-button active" data-tool="robot">ü§ñ –†–æ–±–æ—Ç</button>
                            <button class="button tool-button" data-tool="target">üéØ –¶–µ–ª—å</button>
                            <button class="button tool-button" data-tool="enemy">üëπ –í—Ä–∞–≥</button>
                            <button class="button tool-button" data-tool="obstacle">üß± –°—Ç–µ–Ω–∞</button>
                            <button class="button tool-button" data-tool="erase">üßπ –£–¥–∞–ª–∏—Ç—å</button>
                        </div>
                        
                        <div class="editor-settings">
                            <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Ä–æ–≤–Ω—è</h3>
                            <div class="setting">
                                <label>–ù–∞–∑–≤–∞–Ω–∏–µ —É—Ä–æ–≤–Ω—è:</label>
                                <input type="text" id="level-title" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ">
                            </div>
                            <div class="setting">
                                <label>–û–ø–∏—Å–∞–Ω–∏–µ:</label>
                                <textarea id="level-description" placeholder="–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ"></textarea>
                            </div>
                            <div class="setting">
                                <label>–ù–∞–≥—Ä–∞–¥–∞ (–º–æ–Ω–µ—Ç–∫–∏):</label>
                                <input type="number" id="level-reward" min="0" max="100" value="10">
                            </div>
                            <div class="setting">
                                <label>–°–ª–æ–∂–Ω–æ—Å—Ç—å:</label>
                                <select id="level-difficulty">
                                    <option value="easy">–õ–µ–≥–∫–∞—è</option>
                                    <option value="medium">–°—Ä–µ–¥–Ω—è—è</option>
                                    <option value="hard">–°–ª–æ–∂–Ω–∞—è</option>
                                </select>
                            </div>
                            <div class="setting">
                                <label>–ö–æ–¥ —É—Ä–æ–∫–∞ (–¥–ª—è —É—á–µ–Ω–∏–∫–æ–≤):</label>
                                <input type="text" id="lesson-code-input" placeholder="–ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è" readonly>
                                <button class="button small-button" id="generate-code-btn">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥</button>
                            </div>
                        </div>
                        
                        <div class="editor-actions">
                            <button class="button" id="save-level-btn">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å</button>
                            <button class="button" id="clear-level-btn">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –ø–æ–ª–µ</button>
                            <button class="button" id="test-level-btn">üéÆ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —É—Ä–æ–≤–µ–Ω—å</button>
                        </div>
                    </div>
                    
                    <div class="editor-canvas-container">
                        <canvas id="editor-canvas" width="600" height="600"></canvas>
                        <div class="editor-info">
                            <p>–¢–µ–∫—É—â–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: <span id="current-tool">ü§ñ –†–æ–±–æ—Ç</span></p>
                            <p>–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: <span id="cursor-coords">X: 0, Y: 0</span></p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="lesson-editor" class="tab-content">
                <div class="lesson-editor-container">
                    <div class="lesson-settings">
                        <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Ä–æ–∫–∞</h3>
                        <div class="setting">
                            <label>–ù–∞–∑–≤–∞–Ω–∏–µ —É—Ä–æ–∫–∞:</label>
                            <input type="text" id="lesson-title" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ">
                        </div>
                        <div class="setting">
                            <label>–û–ø–∏—Å–∞–Ω–∏–µ:</label>
                            <textarea id="lesson-description" placeholder="–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ"></textarea>
                        </div>
                        <div class="setting">
                            <label>–ö–æ–¥ —É—Ä–æ–∫–∞:</label>
                            <input type="text" id="lesson-share-code" placeholder="–ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è" readonly>
                            <button class="button small-button" id="generate-lesson-code-btn">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥</button>
                        </div>
                        <button class="button" id="save-lesson-btn">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —É—Ä–æ–∫</button>
                    </div>
                    
                    <div class="lesson-levels">
                        <h3>–£—Ä–æ–≤–Ω–∏ —É—Ä–æ–∫–∞</h3>
                        <div id="available-levels-list" class="levels-list">
                            <h4>–î–æ—Å—Ç—É–ø–Ω—ã–µ —É—Ä–æ–≤–Ω–∏</h4>
                            <div id="available-levels"></div>
                        </div>
                        <div id="lesson-levels-list" class="levels-list">
                            <h4>–£—Ä–æ–≤–Ω–∏ –≤ —É—Ä–æ–∫–µ</h4>
                            <div id="selected-levels"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="my-levels" class="tab-content">
                <h3>–ú–æ–∏ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —É—Ä–æ–≤–Ω–∏</h3>
                <div class="card-grid" id="my-levels-container">
                </div>
            </div>
            
            <div id="my-lessons" class="tab-content">
                <h3>–ú–æ–∏ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —É—Ä–æ–∫–∏</h3>
                <div class="lesson-management">
                    <div class="lesson-actions">
                        <button class="button" id="share-lesson-btn">üì§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è —É—Ä–æ–∫–æ–º</button>
                        <button class="button" id="view-stats-btn">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É—Ä–æ–∫–∞</button>
                    </div>
                </div>
                <div class="card-grid" id="my-lessons-container">
                </div>
            </div>
        </div>
        
        <div id="shop-screen" class="screen hidden">
            <h2>üõí –ú–∞–≥–∞–∑–∏–Ω –æ—Ü–µ–Ω–æ–∫</h2>
            
            <div class="shop-info">
                <div class="coins-display">
                    <span class="coins-icon">ü™ô</span>
                    <span id="coins-count">0</span> –º–æ–Ω–µ—Ç
                </div>
            </div>
            
            <button class="button" id="shop-back-btn">‚Üê –ù–∞–∑–∞–¥</button>
            
            <div class="shop-items">
                <div class="shop-item">
                    <div class="grade-display">5</div>
                    <div class="item-info">
                        <h3>–û—Ü–µ–Ω–∫–∞ 5</h3>
                        <p>–û—Ç–ª–∏—á–Ω–æ!</p>
                        <div class="price">–¶–µ–Ω–∞: <span class="price-amount" data-grade="5">50</span> ü™ô</div>
                    </div>
                    <button class="button buy-btn" data-grade="5">–ö—É–ø–∏—Ç—å</button>
                </div>
                
                <div class="shop-item">
                    <div class="grade-display">4</div>
                    <div class="item-info">
                        <h3>–û—Ü–µ–Ω–∫–∞ 4</h3>
                        <p>–•–æ—Ä–æ—à–æ!</p>
                        <div class="price">–¶–µ–Ω–∞: <span class="price-amount" data-grade="4">30</span> ü™ô</div>
                    </div>
                    <button class="button buy-btn" data-grade="4">–ö—É–ø–∏—Ç—å</button>
                </div>
                
                <div class="shop-item">
                    <div class="grade-display">3</div>
                    <div class="item-info">
                        <h3>–û—Ü–µ–Ω–∫–∞ 3</h3>
                        <p>–£–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ</p>
                        <div class="price">–¶–µ–Ω–∞: <span class="price-amount" data-grade="3">15</span> ü™ô</div>
                    </div>
                    <button class="button buy-btn" data-grade="3">–ö—É–ø–∏—Ç—å</button>
                </div>
                
                <div class="shop-item">
                    <div class="grade-display">2</div>
                    <div class="item-info">
                        <h3>–û—Ü–µ–Ω–∫–∞ 2</h3>
                        <p>–ù–µ—É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ</p>
                        <div class="price">–¶–µ–Ω–∞: <span class="price-amount" data-grade="2">5</span> ü™ô</div>
                    </div>
                    <button class="button buy-btn" data-grade="2">–ö—É–ø–∏—Ç—å</button>
                </div>
            </div>
            
            <div class="shop-settings">
                <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ü–µ–Ω</h3>
                <div class="price-settings">
                    <div class="price-setting">
                        <label>–¶–µ–Ω–∞ –∑–∞ –æ—Ü–µ–Ω–∫—É 5:</label>
                        <input type="number" class="price-input" data-grade="5" min="1" max="1000" value="50">
                    </div>
                    <div class="price-setting">
                        <label>–¶–µ–Ω–∞ –∑–∞ –æ—Ü–µ–Ω–∫—É 4:</label>
                        <input type="number" class="price-input" data-grade="4" min="1" max="1000" value="30">
                    </div>
                    <div class="price-setting">
                        <label>–¶–µ–Ω–∞ –∑–∞ –æ—Ü–µ–Ω–∫—É 3:</label>
                        <input type="number" class="price-input" data-grade="3" min="1" max="1000" value="15">
                    </div>
                    <div class="price-setting">
                        <label>–¶–µ–Ω–∞ –∑–∞ –æ—Ü–µ–Ω–∫—É 2:</label>
                        <input type="number" class="price-input" data-grade="2" min="1" max="1000" value="5">
                    </div>
                </div>
                <button class="button" id="save-prices-btn">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ü–µ–Ω—ã</button>
            </div>
        </div>
        
        <!-- –û—Å—Ç–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã (–∏–≥—Ä–æ–≤–æ–π UI, –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã) –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π -->
        
    </div>

    <script src="game.js"></script>
    <script src="workshop.js"></script>
    <script src="shop.js"></script>
    <script src="mode.js"></script>
</body>
</html>
